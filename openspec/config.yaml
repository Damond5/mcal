schema: spec-driven
context: >
  MCAL is a cross-platform Flutter calendar application with Rust backend for
  Git sync.


  Tech stack: Flutter (Android, iOS, Linux, Web), Dart, Rust (via
  flutter_rust_bridge), make

  Key libraries: table_calendar, shared_preferences,
  flutter_local_notifications, workmanager, provider, intl


  Event storage: Individual Markdown files per event in app's documents
  directory

  Sync: Git-based synchronization with Rust backend

  Offline-first: Local notifications (30 min before timed events, midday for
  all-day)


  Consistency: Follows rcal project specification for event format and features
rules:
  proposal:
    - Consider cross-platform compatibility (Android and Linux) for all changes
    - Maintain offline-first functionality
    - Ensure Git sync continues to work across platforms
  specs:
    - Event format must be consistent with rcal specification
    - Include recurrence support: none, daily, weekly, monthly, yearly
    - Document any new user-facing features
  design:
    - Use Provider with ChangeNotifier for app-level state
    - Keep widgets, providers, services, and models in separate directories
    - Follow Flutter's const constructors for stateless widgets
  tasks:
    - Run `make test` for test validation
    - Add widget tests for GUI functionality
    - Add unit tests for business logic (providers, services, models)
    - Follow flutter_lints rules with 2-space indentation
defaultSchema: spec-driven
